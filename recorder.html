<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Voice Clarifier - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå</title>
  <style>
    body {
      font-family: 'Kanit', sans-serif;
      background-color: #e0f0d9;
      color: #2d6a0a;
      margin: 0; padding: 20px;
      transition: background-color 0.5s, color 0.5s;
    }
    nav {
      margin-bottom: 20px;
    }
    nav a {
      color: #2d6a0a;
      font-weight: bold;
      text-decoration: none;
      border: 1px solid #2d6a0a;
      padding: 6px 12px;
      border-radius: 4px;
      margin-right: 10px;
      display: inline-block;
      transition: background-color 0.3s, color 0.3s;
    }
    nav a:hover {
      background-color: #2d6a0a;
      color: white;
    }
    /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏•‡∏≤‡∏™ active ‡πÉ‡∏´‡πâ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô */
    nav a.active {
      background-color: #2d6a0a;
      color: white;
      cursor: default;
      pointer-events: none; /* ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å */
    }
    button {
      background-color: #2d6a0a;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 6px;
      cursor: pointer;
      margin: 5px;
    }
    button:disabled {
      background-color: #6c9a49;
      cursor: not-allowed;
    }
    #recordingStatus {
      margin-top: 15px;
      font-weight: bold;
    }
    audio {
      margin-top: 15px;
      width: 100%;
      outline: none;
      border-radius: 6px;
    }
    #features {
      margin-top: 25px;
      display: none;
    }
  </style>
</head>
<body>

<nav>
  <a href="index.html">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
  <a href="about.html">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö</a>
  <a href="recorder.html" class="active">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á</a> <!-- ‡πÉ‡∏™‡πà class active -->
</nav>

<h1>üéôÔ∏è ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå</h1>

<button id="recordBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
<button id="stopBtn" disabled>‡∏´‡∏¢‡∏∏‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>

<p id="recordingStatus">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</p>

<audio id="audioPlayback" controls></audio>

<div id="features">
  <h2>üîß ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á</h2>
  <button onclick="doFeature('translate')">üåê ‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤</button>
  <button onclick="doFeature('navigate')">üìç ‡∏ô‡∏≥‡∏ó‡∏≤‡∏á</button>
  <button onclick="doFeature('speak')">üó£Ô∏è ‡∏≠‡πà‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á</button>
  <button onclick="doFeature('text')">üìÑ ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
</div>

<script>
  const recordBtn = document.getElementById('recordBtn');
  const stopBtn = document.getElementById('stopBtn');
  const recordingStatus = document.getElementById('recordingStatus');
  const audioPlayback = document.getElementById('audioPlayback');
  const featuresDiv = document.getElementById('features');

  let mediaRecorder;
  let audioChunks = [];

  recordBtn.onclick = async () => {
    if (!navigator.mediaDevices) {
      alert("‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á");
      return;
    }
    try {
      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
      mediaRecorder = new MediaRecorder(stream);
      mediaRecorder.start();
      recordingStatus.textContent = "üéôÔ∏è ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...";
      recordBtn.disabled = true;
      stopBtn.disabled = false;
      featuresDiv.style.display = "none";
      audioChunks = [];

      mediaRecorder.ondataavailable = e => audioChunks.push(e.data);
      mediaRecorder.onstop = () => {
        const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
        const audioUrl = URL.createObjectURL(audioBlob);
        audioPlayback.src = audioUrl;
        recordingStatus.textContent = "‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß";
        featuresDiv.style.display = "block";
      };
    } catch (err) {
      alert("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÇ‡∏ü‡∏ô: " + err.message);
    }
  };

  stopBtn.onclick = () => {
    mediaRecorder.stop();
    recordBtn.disabled = false;
    stopBtn.disabled = true;
  };

  function doFeature(feature) {
    switch (feature) {
      case 'translate':
        alert("üìå ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏õ‡∏•‡πÄ‡∏™‡∏µ‡∏¢‡∏á (‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° API ‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏î‡πâ)");
        break;
      case 'navigate':
        alert("üìå ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏≥‡∏ó‡∏≤‡∏á (‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° Google Maps ‡∏´‡∏£‡∏∑‡∏≠ API ‡∏≠‡∏∑‡πà‡∏ô‡πÜ)");
        break;
      case 'speak':
        alert("üìå ‡∏≠‡πà‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á (Text-to-Speech)");
        break;
      case 'text':
        alert("üìå ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (Speech-to-Text)");
        break;
      default:
        alert("‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ");
    }
  }
</script>

</body>
</html>
